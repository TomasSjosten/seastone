<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Romantiskt Paket ‚Äì Presentkort | Hotell Gyllene Uttern </title>
  <style>
    :root{
      --bg:#0b0f14;
      --card:#0f1620;
      --text:#eef2f6;
      --muted:#b8c1cc;
      --accent:#ffcc66;
      --accent2:#7dd3fc;
      --line:rgba(255,255,255,.10);
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius:18px;
      --max: 980px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(125,211,252,.18), transparent 60%),
        radial-gradient(900px 600px at 95% 10%, rgba(255,204,102,.16), transparent 55%),
        var(--bg);
      line-height:1.55;
    }
    .wrap{max-width:var(--max); margin:0 auto; padding:22px}
    .hero{
      border-radius:calc(var(--radius) + 8px);
      overflow:hidden;
      box-shadow:var(--shadow);
      border:1px solid var(--line);
      position:relative;
      min-height:440px;
      background:
        linear-gradient(120deg, rgba(11,15,20,.80) 0%, rgba(11,15,20,.30) 55%, rgba(11,15,20,.78) 100%),
        url("https://www.schwedentipps.se/wp-content/uploads/2015/12/gyllene_uttern_04.jpg") center/cover no-repeat;
    }
    .badge{
      display:inline-flex; gap:10px; align-items:center;
      padding:10px 14px;
      border:1px solid var(--line);
      background:rgba(15,22,32,.65);
      border-radius:999px;
      backdrop-filter: blur(10px);
      color:var(--muted);
      font-size:14px;
    }
    .heroContent{position:absolute; inset:0; display:flex; align-items:flex-end; padding:28px}
    .heroInner{
      width:100%;
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:18px;
      align-items:end;
    }
    h1{
      margin:10px 0 6px;
      font-size: clamp(28px, 4.2vw, 44px);
      line-height:1.1;
      letter-spacing:-.02em;
    }
    .lead{margin:0; color:var(--muted); font-size: clamp(15px, 2.2vw, 18px)}
    .ctaBox{
      border:1px solid var(--line);
      background:rgba(15,22,32,.78);
      border-radius:var(--radius);
      padding:16px;
      backdrop-filter: blur(10px);
    }
    .ctaTitle{font-weight:800; margin:0 0 8px; font-size:16px}
    .ctaMeta{margin:0; color:var(--muted); font-size:14px}
    .ctaPill{
      margin-top:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .pill{
      font-size:13px;
      color:rgba(238,242,246,.92);
      border:1px solid var(--line);
      background:rgba(255,255,255,.06);
      padding:8px 10px;
      border-radius:999px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
      margin-top:18px;
    }
    .card{
      border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(15,22,32,.92), rgba(15,22,32,.72));
      border-radius:var(--radius);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      overflow:hidden;
    }
    .cardPad{padding:18px}
    .kicker{
      color:var(--accent);
      font-weight:700;
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size:12px;
      margin:0 0 10px;
    }
    h2{margin:0 0 8px; font-size:20px}
    p{margin:0 0 10px; color:var(--muted)}
    .img{
      width:100%;
      height:220px;
      object-fit:cover;
      display:block;
      border-bottom:1px solid var(--line);
    }
    ul{margin:12px 0 0; padding:0; list-style:none}
    li{
      padding:10px 0;
      border-top:1px solid var(--line);
      color:var(--text);
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    li:first-child{border-top:none; padding-top:0}
    .dot{
      width:10px; height:10px; border-radius:999px;
      background:linear-gradient(180deg, var(--accent), #ffdca3);
      margin-top:7px;
      flex:0 0 auto;
      box-shadow: 0 0 0 4px rgba(255,204,102,.12);
    }

    .routes{
      margin-top:16px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    .routeBox{
      border:1px solid var(--line);
      border-radius:14px;
      padding:14px;
      background:rgba(255,255,255,.04);
    }
    .routeTitle{margin:0 0 6px; font-weight:800; color:var(--text)}
    .routeNote{margin:0 0 10px; font-size:13px; color:rgba(184,193,204,.92)}
    .btnRow{display:flex; gap:10px; flex-wrap:wrap}
    .btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      background:rgba(125,211,252,.10);
      text-decoration:none;
      color:var(--text);
      font-weight:700;
      font-size:13px;
    }
    .btn.secondary{background:rgba(255,204,102,.10)}
    .smallprint{
      margin-top:12px;
      font-size:12px;
      color:rgba(184,193,204,.75);
    }

    .footer{margin:22px 0 6px; color:var(--muted); font-size:13px; text-align:center; opacity:.9;}
    .fine{margin-top:8px; color:rgba(184,193,204,.8); font-size:12px; text-align:center;}

    @media (max-width: 860px){
      .heroInner{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr}
      .routes{grid-template-columns:1fr}
      .hero{min-height:500px}
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- HERO -->
    <section class="hero" aria-label="Presentkort: Romantiskt paket p√• Hotell Gyllene Uttern">
      <div class="heroContent">
        <div class="heroInner">
          <div>
            <span class="badge">üéÅ Presentkort ‚Ä¢ üèçÔ∏è Roadtrip ‚Ä¢ üåä Utsikt √∂ver V√§ttern</span>
            <h1>Romantiskt Paket ‚Äì Gyllene Uttern</h1>
            <p class="lead">
              F√∂rest√§ll er k√§nslan. Motorn som mullrar ig√•ng. Kurviga landsv√§gar genom svensk sommar.
              Vinddraget. Friheten. F√∂rv√§ntan. Och slutligen: Gr√§nna vid glittrande V√§ttern.
            </p>
          </div>

          <aside class="ctaBox">
            <p class="ctaTitle">Presentkort ‚Äì ni v√§ljer n√§r ni vill √•ka</p>
            <p class="ctaMeta">
              Det h√§r √§r inte bara ett presentkort ‚Äì det √§r starten p√• en liten roadtrip.
              Ni best√§mmer sj√§lva datum (och tempo).
            </p>
            <div class="ctaPill" aria-label="Snabbfakta">
              <span class="pill">Frukostbuff√©</span>
              <span class="pill">Cava + tryfflar</span>
              <span class="pill">Trer√§ttersmiddag</span>
              <span class="pill">Check-in 15:00</span>
              <span class="pill">Check-out 11:00</span>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- CONTENT GRID -->
    <section class="grid" aria-label="Upplevelsen">
      <!-- V√§gen -->
      <article class="card">
        <img class="img" alt="Motorcykel p√• sommarv√§g" src="https://img.freepik.com/premium-photo/motorbike-riding-road-summer-driving-empty-road-motorcycle-tour-journey-copyspace-your-individual-text_157125-20046.jpg" />
        <div class="cardPad">
          <p class="kicker">üõ£Ô∏è V√§gen √§r halva upplevelsen</p>
          <h2>En liten roadtrip, bara ni tv√•</h2>
          <p>
            Ta motorcykeln l√§ngs de mest sp√§nnande v√§garna. Stanna vid utsiktsplatser.
            Ta en kaffe l√§ngs v√§gen. K√§nn hur vardagen f√∂rsvinner i backspegeln.
          </p>
          <p>
            N√§r ni rullar in i Gr√§nna v√§ntar n√•got alldeles extra.
          </p>
        </div>
      </article>

      <!-- Ankomst -->
      <article class="card">
        <img class="img" alt="Hotell Gyllene Uttern med utsikt" src="https://www.schwedentipps.se/wp-content/uploads/2015/12/gyllene_uttern_05.jpg" />
        <div class="cardPad">
          <p class="kicker">ü•Ç En romantisk ankomst</p>
          <h2>Tempot s√§nks direkt</h2>
          <p>
            P√• rummet st√•r en flaska mousserande Cava och ljuvliga tryfflar och v√§ntar.
            Hj√§lmarna l√§ggs √•t sidan. Skinnjackorna h√§ngs av. Nu √§r det bara ni.
          </p>
        </div>
      </article>

      <!-- Middag -->
      <article class="card">
        <img class="img" alt="Utsikt √∂ver V√§ttern fr√•n Gr√§nna-trakten" src="https://gylleneuttern.se/wp-content/uploads/2021/12/beauty-sundown-2-1920x1080-1.jpg" />
        <div class="cardPad">
          <p class="kicker">üçΩÔ∏è Kv√§llen ni inte gl√∂mmer</p>
          <h2>Smaker, utsikt och sommarkv√§ll</h2>
          <p>
            N√§r solen sjunker √∂ver V√§ttern v√§ntar en romantisk trer√§ttersmiddag.
            Lokala r√•varor, s√§songens smaker och en utsikt som g√∂r kv√§llen √§nnu mer magisk.
          </p>
          <p>
            Efter en dag fylld av kurvor och √§ventyr smakar allt lite b√§ttre.
          </p>
        </div>
      </article>

      <!-- Morgonen efter + ing√•r -->
      <article class="card">
        <img class="img" alt="Romantisk hotellk√§nsla" src="https://gylleneuttern.se/wp-content/uploads/2024/06/hemsida-9-ver.png" />
        <div class="cardPad">
          <p class="kicker">üåÖ Morgonen efter</p>
          <h2>Vila, frukost och nya minnen</h2>
          <p>
            Sov ut i bekv√§ma rum eller svit. Vakna l√•ngsamt.
            L√•t doften av nybryggt kaffe leda er till en gener√∂s frukostbuff√©.
          </p>
          <p>
            Kanske tar ni en promenad genom staden innan ni startar motorerna igen ‚Äì med nya minnen i bagaget.
          </p>

          <div style="margin-top:14px; padding-top:14px; border-top:1px solid var(--line)">
            <p class="kicker" style="margin-bottom:8px">üíï I Romantiska Paketet ing√•r</p>
            <ul>
              <li><span class="dot"></span><span>Frukostbuff√©</span></li>
              <li><span class="dot"></span><span>En flaska Cava</span></li>
              <li><span class="dot"></span><span>Trer√§tters romantisk middag (valfri sittningstid)</span></li>
              <li><span class="dot"></span><span>Tryfflar p√• rummet</span></li>
              <li><span class="dot"></span><span>Check-in kl. 15:00</span></li>
              <li><span class="dot"></span><span>Check-out kl. 11:00</span></li>
            </ul>
          </div>
        </div>
      </article>
    </section>

    <!-- ROUTES (NO GUESSING: origin/destination handled by Google Maps form/device location) -->
    <section class="card" style="margin-top:16px" aria-label="Alternativa resv√§gar (mysigare √§n E4)">
      <div class="cardPad">
        <p class="kicker">üß≠ Alternativa resv√§gar</p>
        <h2>2 f√∂rslag dit + 2 f√∂rslag hem (utan att gissa var ni startar/slutar)</h2>
        <p>
          L√§nkarna √∂ppnar Google Maps med ‚Äúundvik motorv√§gar‚Äù och med ett par utvalda stopp l√§ngs v√§gen.
          F√∂r ‚Äúdit‚Äù anv√§nds din enhets startplats (om tillg√§ngligt). F√∂r ‚Äúhem‚Äù √§r startpunkten Gr√§nna ‚Äì du fyller sj√§lv i slutdestination.
        </p>

        <div class="routes">
  <div class="routeBox">
    <p class="routeTitle">V√§g dit ‚Äì alternativ 1</p>
    <p class="routeNote">Mest direkt, men undvik motorv√§gar.</p>
    <div class="btnRow">
      <a class="btn" target="_blank" rel="noopener"
         href="https://www.google.com/maps/dir/?api=1&destination=58.02250%2C14.46556&travelmode=driving&avoid=highways">
        √ñppna i Google Maps ‚Üí
      </a>
    </div>
  </div>

  <div class="routeBox">
    <p class="routeTitle">V√§g dit ‚Äì alternativ 2</p>
    <p class="routeNote">Mest direkt, undvik motorv√§gar (och undvik √§ven f√§rjor om Maps skulle f√∂resl√• det).</p>
    <div class="btnRow">
      <a class="btn" target="_blank" rel="noopener"
         href="https://www.google.com/maps/dir/?api=1&destination=58.02250%2C14.46556&travelmode=driving&avoid=highways%7Cferries">
        √ñppna i Google Maps ‚Üí
      </a>
    </div>
  </div>
</div>

          <div class="routeBox">
  <p class="routeTitle">V√§g hem ‚Äì alternativ 1</p>
  <p class="routeNote">Start: Gr√§nna. Mest direkt v√§g, undvik motorv√§gar. Du v√§ljer sj√§lv slutdestination i Maps.</p>
  <div class="btnRow">
    <a class="btn secondary" target="_blank" rel="noopener"
       href="https://www.google.com/maps/dir/?api=1&origin=58.02250%2C14.46556&travelmode=driving&avoid=highways">
      √ñppna hemv√§g i Google Maps ‚Üí
    </a>
  </div>
</div>

<div class="routeBox">
  <p class="routeTitle">V√§g hem ‚Äì alternativ 2</p>
  <p class="routeNote">Start: Gr√§nna. Mest direkt v√§g, undvik motorv√§gar och f√§rjor.</p>
  <div class="btnRow">
    <a class="btn secondary" target="_blank" rel="noopener"
       href="https://www.google.com/maps/dir/?api=1&origin=58.02250%2C14.46556&travelmode=driving&avoid=highways%7Cferries">
      √ñppna hemv√§g i Google Maps ‚Üí
    </a>
  </div>
</div>

      </div>
    </section>

    <p class="footer">Gyllene Uttern ‚Ä¢ Gr√§nna, Sverige</p>
  </div>
</body>
  <script>
(() => {
  // ====== KONFIG ======
  const seconds = 6;
  const text = "50√•r";
  const buttonText = "√ñppna";

  const maxParticles = 260;
  const spawnPerFrame = 3;
  const gravity = 0.12;
  const drag = 0.995;

  const reduceMotion =
    window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

  // ====== PRESENT-OVERLAY (SVG-baserat paket, inga deformationer) ======
  const gift = document.createElement("div");
  gift.setAttribute("role", "dialog");
  gift.setAttribute("aria-modal", "true");
  gift.setAttribute("aria-label", "Present");

  Object.assign(gift.style, {
    position: "fixed",
    inset: "0",
    zIndex: "1000002",
    display: "grid",
    placeItems: "center",
    padding: "6vmin",
    background:
      "radial-gradient(circle at 25% 15%, rgba(255,255,255,0.16), rgba(255,255,255,0) 45%)," +
      "radial-gradient(circle at 75% 20%, rgba(255,255,255,0.12), rgba(255,255,255,0) 48%)," +
      "linear-gradient(135deg, rgba(12,12,18,0.92), rgba(8,8,14,0.95))",
    backdropFilter: "blur(6px)",
    WebkitBackdropFilter: "blur(6px)"
  });

  // Wrap med fast proportion via SVG viewBox
  const wrap = document.createElement("div");
  Object.assign(wrap.style, {
    width: "min(82vw, 440px)",
    transform: "translateZ(0)",
    textAlign: "center"
  });

  // CTA
  const cta = document.createElement("div");
  cta.textContent = "Ett paket till dig üéÅ";
  Object.assign(cta.style, {
    marginBottom: "14px",
    color: "rgba(255,255,255,0.92)",
    font: "700 16px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif",
    textShadow: "0 14px 40px rgba(0,0,0,0.45)"
  });

  const btn = document.createElement("button");
  btn.type = "button";
  btn.textContent = buttonText;
  Object.assign(btn.style, {
    appearance: "none",
    border: "0",
    borderRadius: "999px",
    padding: "14px 22px",
    marginTop: "18px",
    font: "900 18px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif",
    letterSpacing: "0.01em",
    color: "rgba(10,10,18,0.92)",
    background: "linear-gradient(135deg, rgba(255,255,255,0.96), rgba(255,255,255,0.72))",
    boxShadow: "0 18px 60px rgba(0,0,0,0.45)",
    cursor: "pointer"
  });

  if (!reduceMotion) {
    btn.animate([{ transform: "scale(1)" }, { transform: "scale(1.04)" }, { transform: "scale(1)" }], {
      duration: 1400,
      iterations: Infinity,
      easing: "ease-in-out"
    });
  }

  // SVG present (proportionellt perfekt, med inbyggda gradients/shadows)
  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  svg.setAttribute("viewBox", "0 0 400 420");
  svg.setAttribute("width", "100%");
  svg.setAttribute("height", "auto");
  svg.style.display = "block";
  svg.style.filter = "drop-shadow(0 30px 90px rgba(0,0,0,0.55))";

  svg.innerHTML = `
    <defs>
      <linearGradient id="boxGrad" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="#ffffff" stop-opacity="0.16"/>
        <stop offset="1" stop-color="#ffffff" stop-opacity="0.06"/>
      </linearGradient>

      <linearGradient id="lidGrad" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="#ff4d7d"/>
        <stop offset="0.55" stop-color="#ffcc3d"/>
        <stop offset="1" stop-color="#4dd2ff"/>
      </linearGradient>

      <linearGradient id="ribbonGradV" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0" stop-color="#ffffff" stop-opacity="0.70"/>
        <stop offset="1" stop-color="#ffffff" stop-opacity="0.18"/>
      </linearGradient>

      <linearGradient id="ribbonGradH" x1="0" y1="0" x2="1" y2="0">
        <stop offset="0" stop-color="#ffffff" stop-opacity="0.65"/>
        <stop offset="1" stop-color="#ffffff" stop-opacity="0.16"/>
      </linearGradient>

      <linearGradient id="bowGrad" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="#b84dff"/>
        <stop offset="0.55" stop-color="#4dd2ff"/>
        <stop offset="1" stop-color="#4dff88"/>
      </linearGradient>

      <filter id="softShadow" x="-30%" y="-30%" width="160%" height="160%">
        <feDropShadow dx="0" dy="14" stdDeviation="16" flood-color="#000" flood-opacity="0.35"/>
      </filter>

      <filter id="innerGlow" x="-40%" y="-40%" width="180%" height="180%">
        <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="blur"/>
        <feColorMatrix in="blur" type="matrix" values="
          1 0 0 0 0
          0 1 0 0 0
          0 0 1 0 0
          0 0 0 0.22 0" result="glow"/>
        <feMerge>
          <feMergeNode in="glow"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>

      <clipPath id="lidClip">
        <rect x="52" y="72" width="296" height="142" rx="28" ry="28"/>
      </clipPath>
    </defs>

    <!-- Ground shadow -->
    <ellipse cx="200" cy="392" rx="150" ry="18" fill="#000" opacity="0.26"/>

    <!-- Lid group (split in two halves for a clean ‚Äúopen‚Äù animation) -->
    <g id="lidGroup" filter="url(#softShadow)">
      <g id="lidLeft">
        <rect x="52" y="72" width="148" height="142" rx="28" ry="28" fill="url(#lidGrad)"/>
        <rect x="52" y="72" width="148" height="142" rx="28" ry="28" fill="#fff" opacity="0.10"/>
        <!-- highlight -->
        <path d="M70 92 C110 78, 150 78, 190 92 L190 110 C150 96, 110 96, 70 110 Z" fill="#fff" opacity="0.18"/>
      </g>

      <g id="lidRight">
        <rect x="200" y="72" width="148" height="142" rx="28" ry="28" fill="url(#lidGrad)"/>
        <rect x="200" y="72" width="148" height="142" rx="28" ry="28" fill="#fff" opacity="0.10"/>
        <!-- highlight -->
        <path d="M210 92 C250 78, 290 78, 330 92 L330 110 C290 96, 250 96, 210 110 Z" fill="#fff" opacity="0.18"/>
      </g>

      <!-- Lid ribbon -->
      <g clip-path="url(#lidClip)" opacity="0.92">
        <rect x="186" y="68" width="28" height="160" rx="14" fill="url(#ribbonGradV)" style="mix-blend-mode:screen"/>
        <rect x="52" y="132" width="296" height="26" rx="13" fill="url(#ribbonGradH)" style="mix-blend-mode:screen"/>
      </g>
    </g>

    <!-- Box -->
    <g id="boxGroup" filter="url(#softShadow)">
      <rect x="44" y="182" width="312" height="182" rx="30" ry="30" fill="url(#boxGrad)" stroke="#fff" stroke-opacity="0.14"/>
      <!-- subtle sheen -->
      <path d="M70 208 C120 196, 170 196, 220 208 C170 222, 120 222, 70 208 Z" fill="#fff" opacity="0.10"/>
      <!-- ribbons -->
      <rect x="186" y="182" width="28" height="182" rx="14" fill="url(#ribbonGradV)" style="mix-blend-mode:screen" opacity="0.92"/>
      <rect x="44" y="252" width="312" height="26" rx="13" fill="url(#ribbonGradH)" style="mix-blend-mode:screen" opacity="0.86"/>
    </g>

    <!-- Bow -->
    <g id="bowGroup" filter="url(#softShadow)">
      <g transform="translate(200 86)">
        <!-- left loop -->
        <path d="M-18 20
                 C-90 0, -140 40, -118 82
                 C-98 122, -45 114, -12 88
                 C-26 60, -28 42, -18 20 Z"
              fill="url(#bowGrad)" stroke="#fff" stroke-opacity="0.12"/>

        <!-- right loop -->
        <path d="M18 20
                 C90 0, 140 40, 118 82
                 C98 122, 45 114, 12 88
                 C26 60, 28 42, 18 20 Z"
              fill="url(#bowGrad)" stroke="#fff" stroke-opacity="0.12"/>

        <!-- knot -->
        <ellipse cx="0" cy="64" rx="18" ry="16" fill="url(#ribbonGradV)" style="mix-blend-mode:screen" opacity="0.92"/>
        <ellipse cx="0" cy="64" rx="22" ry="20" fill="#000" opacity="0.08"/>

        <!-- tiny sparkle highlight -->
        <path d="M-8 58 C-4 52, 6 52, 10 58 C4 56, -2 56, -8 58 Z" fill="#fff" opacity="0.22"/>
      </g>
    </g>

    <!-- Overall glow -->
    <g filter="url(#innerGlow)" opacity="0.9">
      <rect x="44" y="72" width="312" height="292" rx="32" ry="32" fill="#fff" opacity="0.02"/>
    </g>
  `;

  // sm√• ‚Äúliv‚Äù i paketet utan deformation
  if (!reduceMotion) {
    svg.animate([{ transform: "translateY(0px)" }, { transform: "translateY(-8px)" }, { transform: "translateY(0px)" }], {
      duration: 2200,
      iterations: Infinity,
      easing: "ease-in-out"
    });
    const bowGroup = svg.querySelector("#bowGroup");
    bowGroup && bowGroup.animate([{ transform: "rotate(-6deg)" }, { transform: "rotate(6deg)" }, { transform: "rotate(-6deg)" }], {
      duration: 1400,
      iterations: Infinity,
      easing: "ease-in-out",
      transformOrigin: "200px 90px"
    });
  }

  wrap.appendChild(cta);
  wrap.appendChild(svg);
  wrap.appendChild(btn);
  gift.appendChild(wrap);
  document.body.appendChild(gift);

  btn.focus({ preventScroll: true });

  // ====== √ñPPNA ======
  let opened = false;
  btn.addEventListener("click", openGift, { passive: true });
  gift.addEventListener("keydown", (e) => {
    if (e.key === "Enter" || e.key === " " || e.code === "Space") {
      e.preventDefault();
      openGift();
    }
  });

  function openGift() {
    if (opened) return;
    opened = true;

    btn.disabled = true;
    btn.style.opacity = "0.85";
    btn.style.cursor = "default";

    // Animera lock-halvor (SVG) snyggt bort ‚Äì inga CSS-trick, ren transform
    const lidLeft = svg.querySelector("#lidLeft");
    const lidRight = svg.querySelector("#lidRight");

    if (!reduceMotion) {
      lidLeft && lidLeft.animate(
        [{ transform: "translate(0px,0px) rotate(0deg)", opacity: 1 },
         { transform: "translate(-220px,-60px) rotate(-14deg)", opacity: 0 }],
        { duration: 520, easing: "cubic-bezier(.2,1,.2,1)", fill: "forwards" }
      );

      lidRight && lidRight.animate(
        [{ transform: "translate(0px,0px) rotate(0deg)", opacity: 1 },
         { transform: "translate(220px,-60px) rotate(14deg)", opacity: 0 }],
        { duration: 520, easing: "cubic-bezier(.2,1,.2,1)", fill: "forwards" }
      );

      gift.animate([{ opacity: 1 }, { opacity: 0 }], {
        duration: 520,
        easing: "ease-out",
        fill: "forwards"
      });
    } else {
      gift.style.opacity = "0";
    }

    startCelebration();

    setTimeout(() => gift.remove(), reduceMotion ? 0 : 560);
  }

  // ====== CELEBRATION: TEXT + CONFETTI ======
  function startCelebration() {
    // --- Text overlay ---
    const overlay = document.createElement("div");
    Object.assign(overlay.style, {
      position: "fixed",
      inset: "0",
      display: "grid",
      placeItems: "center",
      pointerEvents: "none",
      zIndex: "1000000",
      padding: "6vmin",
      userSelect: "none",
      WebkitUserSelect: "none"
    });

    const title = document.createElement("div");
    title.textContent = text;
    Object.assign(title.style, {
      fontWeight: "900",
      lineHeight: "0.92",
      letterSpacing: "0.01em",
      textAlign: "center",
      fontSize: "clamp(56px, 14vw, 170px)",
      background:
        "radial-gradient(circle at 30% 25%, rgba(255,255,255,0.95), rgba(255,255,255,0) 28%)," +
        "linear-gradient(135deg, #ff4d7d 0%, #ffcc3d 25%, #4dff88 50%, #4dd2ff 75%, #b84dff 100%)",
      WebkitBackgroundClip: "text",
      backgroundClip: "text",
      color: "transparent",
      textShadow:
        "0 2px 0 rgba(255,255,255,0.18)," +
        "0 10px 30px rgba(0,0,0,0.28)," +
        "0 24px 60px rgba(0,0,0,0.18)",
      filter: "drop-shadow(0 18px 35px rgba(0,0,0,0.25))",
      transform: "translateZ(0)"
    });

    overlay.appendChild(title);
    document.body.appendChild(overlay);

    if (!reduceMotion) {
      title.animate(
        [
          { transform: "scale(0.78)", opacity: 0 },
          { transform: "scale(1.10)", opacity: 1, offset: 0.65 },
          { transform: "scale(1.00)", opacity: 1 }
        ],
        { duration: 650, easing: "cubic-bezier(.2,1,.2,1)", fill: "forwards" }
      );

      title.animate(
        [
          { transform: "translateY(0px) rotate(-1deg)" },
          { transform: "translateY(-10px) rotate(1deg)" },
          { transform: "translateY(0px) rotate(-1deg)" }
        ],
        { duration: 2200, iterations: Infinity, easing: "ease-in-out" }
      );
    } else {
      title.style.opacity = "1";
    }

    // --- Confetti canvas ---
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    Object.assign(canvas.style, {
      position: "fixed",
      inset: "0",
      width: "100%",
      height: "100%",
      pointerEvents: "none",
      zIndex: "999999"
    });
    document.body.appendChild(canvas);

    const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    function resize() {
      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);
    }
    resize();
    window.addEventListener("resize", resize, { passive: true });

    const colors = ["#ff4d7d", "#ffcc3d", "#4dff88", "#4dd2ff", "#b84dff", "#ffffff"];
    const particles = [];
    function rand(min, max) { return Math.random() * (max - min) + min; }

    function spawnBurst(n = 40) {
      const w = canvas.width, h = canvas.height;
      const originX = rand(w * 0.18, w * 0.82);
      const originY = rand(h * 0.06, h * 0.28);

      for (let i = 0; i < n; i++) {
        const angle = rand(-Math.PI, Math.PI);
        const speed = rand(3, 10) * dpr * (reduceMotion ? 0.65 : 1);
        const size = rand(6, 14) * dpr;
        particles.push({
          x: originX, y: originY,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed - rand(2, 6) * dpr,
          w: size, h: size * rand(0.5, 0.9),
          rot: rand(0, Math.PI * 2),
          vr: rand(-0.22, 0.22) * (reduceMotion ? 0.6 : 1),
          color: colors[(Math.random() * colors.length) | 0],
          life: rand(55, 155),
          ttl: 0
        });
      }
    }

    spawnBurst(130);

    let running = true;
    const start = performance.now();
    const endAt = start + seconds * 1000;

    function step(now) {
      if (now < endAt) {
        if (!reduceMotion) {
          for (let i = 0; i < spawnPerFrame; i++) {
            if (particles.length < maxParticles) spawnBurst(6);
          }
        } else {
          if (Math.random() < 0.07 && particles.length < maxParticles) spawnBurst(10);
        }
      } else {
        running = particles.length > 0;
      }

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      for (let i = particles.length - 1; i >= 0; i--) {
        const p = particles[i];
        p.ttl++;

        p.vy += gravity * dpr * (reduceMotion ? 0.7 : 1);
        p.vx *= drag;
        p.vy *= drag;
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        const alpha = Math.max(0, 1 - p.ttl / p.life);
        ctx.globalAlpha = alpha;
        ctx.fillStyle = p.color;
        ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
        ctx.restore();

        if (p.ttl > p.life || p.y > canvas.height + 80 * dpr) particles.splice(i, 1);
      }

      if (running) requestAnimationFrame(step);
      else cleanup();
    }

    function cleanup() {
      overlay.animate([{ opacity: 1 }, { opacity: 0 }], {
        duration: 320,
        easing: "ease-out",
        fill: "forwards"
      }).onfinish = () => overlay.remove();

      window.removeEventListener("resize", resize);
      canvas.remove();
    }

    requestAnimationFrame(step);
  }
})();
</script>
</html>
